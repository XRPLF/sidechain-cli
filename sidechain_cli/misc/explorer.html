<html>
  <head>
    <title>XRPL Sidechain CLI Explorer</title>
  </head>
  <link rel="shortcut icon" href="https://livenet.xrpl.org/favicon.ico" type="image/x-icon" />
  <table width="100%" height="100%">
    <tr>
      <td>
        <div class="url-bar">
          <input type="url" value="localhost:6006" id="left_input">
          <button type="button" id="left_button">Submit</button>
        </div>
        <iframe id="left_iframe" src="http://sidechain.dev.explorer.xpring.dev/localhost:6006" frameborder="0"></iframe>
      </td>
      <td>
        <div class="url-bar">
          <input type="url" value="localhost:6008" id="right_input">
          <button type="button" id="right_button">Submit</button>
        </div>
        <iframe id="right_iframe" src="http://sidechain.dev.explorer.xpring.dev/localhost:6008" frameborder="0"></iframe>
      </td>
    </tr>
  </table>

  <link href='https://fonts.googleapis.com/css?family=Work Sans' rel='stylesheet'>
  <style>
    body {
      font-family: "Work Sans", sans-serif;
      padding: 20px;
      background: #fafafa;
    }

    h1 {
      font-weight: bold;
    }

    input, button {
      padding: 6px;
      margin-bottom: 8px;
    }

    button {
      font-weight: bold;
      font-family: "Work Sans", sans-serif;
    }

    td {
      vertical-align: middle;
    }

    iframe {
      overflow:hidden;
      height:100%;
      width:100%;
    }

    .url-bar {
      display: flex;
      width: 50%;
      gap: 10px;
    }

    .url-bar input {
      flex-grow: 1;
    }
  </style>

  <script>
    document.getElementById("left_button")
      .addEventListener("click", handleButton);
    document.getElementById("right_button")
      .addEventListener("click", handleButton);

    function handleButton(event){
      const buttonId = event.target.id;
      const position = buttonId.substring(0, buttonId.indexOf("_"));
      const iframe = document.getElementById(`${position}_iframe`);
      const input = document.getElementById(`${position}_input`);
      const newUrl = input.value;
      iframe.src = `http://sidechain.dev.explorer.xpring.dev/${newUrl}`;
      console.log("update")
    }
  </script>
</html>
